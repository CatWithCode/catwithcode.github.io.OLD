<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://catwithcode.github.io/Assets/GetHead.js"></script>
    <title>CatWithCode - How to fix broken Video/Audio in scrcpy</title>
  </head>
  <body align="left" onload="createiFrame()">
    <script src="https://catwithcode.github.io/Assets/GetTopBar.js"></script>
    
    <h1>How to fix broken Video/Audio in scrcpy</h1>
    <h3>I am using a GSI on my phone and when I try to use scrcpy I get this output:</h3>
    <a href=""><img src="DATA/scrcpy_broken_img.png" alt="Screenshot of Device Info HW, Blured with Flash Type marked" style="width:20%";></a>
    <h3>The solution was simple (so simple, in fact, that I am angry at myself for not having thought of it sooner / finding it sooner). Execute this in your Terminal:</h3>
    <p><u><i>scrcpy --list-encoders</i></u></p>
    <h3>Then try codec after codec until one works, and use that one from now on. It really is that simple. For my Unihertz Titan Slim with a LinageOS 20 GSI it was:</h3>
    <p><u><i>scrcpy --video-codec=h264 --video-encoderc2.android.avc.encoder' --audio-codec=opus --audio-encoder='c2.android.opus.encoder'</i></u></p>
    <br>
    <h3>More readable:</h3>
    <ul>
      <li>scrcpy</li>
      <li>--video-codec=h264</li>
      <li>--video-encoderc2.android.avc.encoder'</li>
      <li>--audio-codec=opus</li>
      <li>--audio-encoder='c2.android.opus.encoder'</li>
      <h3>---</h3>
      <li>scrcpy</li>
      <li>--video-codec=h264 --video-encoderc2.android.avc.encoder'</li>
      <li>--audio-codec=opus --audio-encoder='c2.android.opus.encoder'</li>
      
    </ul>
    <br>
    <b>Sources:</b>
    <ul>
      <li><a href="https://github.com/Genymobile/scrcpy/issues/4143">https://github.com/Genymobile/scrcpy/issues/4143</a></li>
      <li><a href="https://github.com/Genymobile/scrcpy">https://github.com/Genymobile/scrcpy</a></li>
    </ul>
    <h5>2023.07.16 - 19:45</h5>
  </body>
</html>