<!DOCTYPE html>
<html lang="en">  
  <head>
    <script src="https://catwithcode.github.io/Assets/GetHead.js"></script>
    <title>CatWithCode - Modding M.2 NVMe Boot-Support into the BIOS/UEFI</title>
  </head>
  <body align="left">
    <script src="https://catwithcode.github.io/Assets/GetTopBar.js"></script>
    
    <h1>Modding M.2 NVMe Boot-Support into the BIOS/UEFI</h1>
    <h3><u>First of all: If someone wants to follow in my footsteps and do this mod them self, be warned. If you don't have dual BIOS, you could brick your motherboard without an easy way to repair it, you use Modding tools with very integrated parts of your system and need to trust the creator of the Modding Tools and files that they are clean! Don't do this in safety applications or if you are not able to fix a broken motherboards. As usual and always on the internet: If you do this kind of BS it is always at your own risk. !OBVIOUSLY!</u></h3>
    <h3>Currently I'm trying to make my PC last as long as possible for me (performance wise) and modded some parts already. I patched my GPU so it runs as fast as possible (<a href="https://catwithcode.github.io/Blog/2022.10.02_BIOS-Mod_Gigabyte-GTX-1080-G1-Gaming/BIOS-Mod_Gigabyte-GTX-1080-G1-Gaming.html">Blog Entry - Gigabyte GTX 1080 G1 Gaming - BIOS-Mod Overclocking</a>), Overclocked my CPU (i7 4790K @ 4.7GHZ [Host Clock 100MHZ, VRIN EXTERNAL OVERRIGHT 2.000V, VCORE-Offset +0,047V = 1.308V]), installed more RAM modules that I had lying around and upgraded my PSU. The only thing missing was that my mothrboard supports M.2 NVMe SSDs !BUT! Can not boot directly from it (And it disables 2 SATA ports after installing a M.2 NVMe SSD for some reason (Porbably CPU lanes) but I don't care because I don't need them). I know that it's possible to install a bootloader on a separate USB or SATA drive that supports PCIE devices and then boot from it but that was to Janky even for me. BUT there was a new video from Linus Tech Tipps where there did exactly this. Out of intressed I read the some articles and read one line that broth me to BIOS Modding: "...NVMe-boot without Modding your UEFI/BIOS..."</h3>
    <h3>So I did my research and a 2-3 hours later I was successful! Now my motherboards boots M.2 NVMe SSDs without any problems. Everything is fast AF and works flawlessly! Call me surprised!</h3>
    <h3>I have a Gigabyte Z97X-UD5H-BK with the F6 Firmeware. (I needed to downgrade to an older one from F8 due to a nasty Bug (<a href="https://catwithcode.github.io/Blog/2022.10.06_Fixing_Mainboard_Freeze/Fixing_Mainboard_Freeze.html">Blog Entry - Fixing Gigabyte motherboards Freeze at Logo</a>). I recommend everyone who has this board and a CPU that is supported on this older firmware to use it. It doesn't block rewriting the BIOS chip without Modding and is the best and bug freest one over all (With Intel K performance improvements and everything). I used the "NvmExpressDxe_5.ffs dated 09/20/2021 (uncompressed size: 18 KB, best choice for systems without native NVMe support)" and UEFITool. UEFITool is OpenSource but the latest version didn't let me modify the BIOS-Image. I used the old Version (UEFITool v0.28.0) from the guide (if the file is still on GitHub, the older releases there should work too).</h3>
    <h3>After all the mods to my PC in the last few weeks it is running on the edge of possibilities of this hardware. The only thing I can think of making even better is a fast "DDR3 - 2x16 - 32GB - 1600 RAM"-Kit in dual channel with XMP, but that kind of modules new is impossible to find and if you find them there are used, very expensive because there are not produced anymore and/or have ECC witch is slow and incompatible with normal PCs.</h3>
    <h3>How to do it: <a href="https://winraid.level1techs.com/t/howto-get-full-nvme-support-for-all-systems-with-an-ami-uefi-bios/30901">https://winraid.level1techs.com/t/howto-get-full-nvme-support-for-all-systems-with-an-ami-uefi-bios/30901</a></h3>
    <br>    
    <br>
    <b>Sources:</b>
    <ul>
      <li><a href="https://winraid.level1techs.com/t/guide-nvme-boot-without-modding-your-uefi-bios-clover-efi-bootloader-method/31665">https://winraid.level1techs.com/t/guide-nvme-boot-without-modding-your-uefi-bios-clover-efi-bootloader-method/31665</a></li>
      <li><a href="https://youtu.be/YLC9rZ2e0Ms">https://youtu.be/YLC9rZ2e0Ms</a></li>
      <li><a href="https://winraid.level1techs.com/t/howto-get-full-nvme-support-for-all-systems-with-an-ami-uefi-bios/30901">https://winraid.level1techs.com/t/howto-get-full-nvme-support-for-all-systems-with-an-ami-uefi-bios/30901</a></li>
      <li><a href="https://www.gigabyte.com/Motherboard/GA-Z97X-UD5H-BK-rev-10#ov">https://www.gigabyte.com/Motherboard/GA-Z97X-UD5H-BK-rev-10#ov</a></li>
      <li><a href="https://github.com/LongSoft/UEFITool">https://github.com/LongSoft/UEFITool</a></li>
      <li><a href="https://catwithcode.github.io/Blog/2022.10.06_Fixing_Mainboard_Freeze/Fixing_Mainboard_Freeze.html">https://catwithcode.github.io/Blog/2022.10.06_Fixing_Mainboard_Freeze/Fixing_Mainboard_Freeze.html</a></li>
      <li><a href="https://catwithcode.github.io/Blog/2022.10.02_BIOS-Mod_Gigabyte-GTX-1080-G1-Gaming/BIOS-Mod_Gigabyte-GTX-1080-G1-Gaming.html">https://catwithcode.github.io/Blog/2022.10.02_BIOS-Mod_Gigabyte-GTX-1080-G1-Gaming/BIOS-Mod_Gigabyte-GTX-1080-G1-Gaming.html</a></li>
    </ul>    
    <h5>2022.10.16 - 23:40</h5>  
  </body>
</html>